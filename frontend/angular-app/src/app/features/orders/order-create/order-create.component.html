<div class="create-order-container">
    <div class="create-order-header">
        <h2>Create Order</h2>
    </div>

    <form (ngSubmit)="place()" #orderForm="ngForm" autocomplete="off" class="create-order-form">
        <!-- Customer Name -->
        <div class="form-group">
            <label for="customerName" class="form-label">Customer Name *</label>
            <input id="customerName" name="customerName" [(ngModel)]="customerName" required class="form-input"
                placeholder="Enter customer name" />
        </div>

        <!-- Order Lines Section -->
        <div class="order-lines-section">
            <div class="section-header">
                <h3>Order Items</h3>
            </div>

            <!-- Lines Header -->
            <div class="lines-header">
                <div class="header-product">Product</div>
                <div class="header-quantity">Quantity</div>
                <div class="header-price">Price</div>
                <div class="header-currency">Currency</div>
                <div class="header-actions">Actions</div>
            </div>

            <!-- Order Lines -->
            <div *ngFor="let line of lines; let i = index" class="order-line">
                <div class="line-product">
                    <input [(ngModel)]="line.product" name="product{{i}}" required class="form-input"
                        placeholder="Product name" />
                </div>
                <div class="line-quantity">
                    <input type="number" [(ngModel)]="line.quantity" name="quantity{{i}}" required min="1"
                        class="form-input" placeholder="1" />
                </div>
                <div class="line-price">
                    <input type="number" [(ngModel)]="line.price" name="price{{i}}" required min="0.01" step="0.01"
                        class="form-input" placeholder="0.00" />
                </div>
                <div class="line-currency">
                    <input [(ngModel)]="line.currency" name="currency{{i}}" required class="form-input"
                        placeholder="USD" />
                </div>
                <div class="line-actions">
                    <button type="button" (click)="removeLine(i)" *ngIf="lines.length > 1" class="remove-btn"
                        title="Remove line">
                        ×
                    </button>
                </div>
            </div>

            <!-- Add Line Button -->
            <div class="add-line-container">
                <button type="button" (click)="addLine()" class="add-line-btn">
                    <span class="plus-icon">+</span>
                    Add Line
                </button>
            </div>
        </div>

        <!-- Form Actions -->
        <div class="form-actions">
            <button type="button" (click)="cancelOrder.emit()" class="cancel-btn">
                Cancel
            </button>
            <button type="submit" [disabled]="orderForm.invalid || loading" class="submit-btn">
                <span *ngIf="loading" class="loading-spinner">⏳</span>
                {{ loading ? 'Creating...' : 'Place Order' }}
            </button>
        </div>
    </form>
</div>